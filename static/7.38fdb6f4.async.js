webpackJsonp([7],{QPsy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"default",function(){return j});var n=(a("ysaM"),a("kC+3")),r=(a("bY3+"),a("FB3z")),l=(a("0q0m"),a("j+RF")),o=a("mM12"),s=a.n(o),i=a("f3nN"),c=a.n(i),u=a("pDJS"),m=a.n(u),h=a("DK4r"),d=a.n(h),f=a("El35"),p=a.n(f),_=a("Lx8G"),g=a.n(_),E=a("V9yD"),y=a("WZj2"),v=a("657S"),I=a.n(v),b="https://cnodejs.org/api/v1",j=function(e){function t(){var e,a,n;c()(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return d()(n,(a=n=d()(this,(e=t.__proto__||s()(t)).call.apply(e,[this].concat(l))),n.state={loginname:"",userInfo:null,recent_replies:[],recent_topics:[],collections:[]},n.getUserInfo=function(e){fetch(b+"/user/"+e).then(function(e){200===e.status&&e.json().then(function(e){var t={loginname:e.data.loginname,avatar_url:e.data.avatar_url,score:e.data.score,githubUsername:e.data.githubUsername,create_at:e.data.create_at};n.setState({userInfo:t,recent_replies:e.data.recent_replies,recent_topics:e.data.recent_topics})})}).catch(function(e){console.warn(e)})},n.getCollections=function(e){fetch(b+"/topic_collect/"+e).then(function(e){200===e.status&&e.json().then(function(e){n.setState({collections:e.data})})}).catch(function(e){console.warn(e)})},a))}return p()(t,e),m()(t,[{key:"componentDidMount",value:function(){this.setState({loginname:this.props.location.query.loginname}),this.getUserInfo(this.props.location.query.loginname),this.getCollections(this.props.location.query.loginname)}},{key:"render",value:function(){return g.a.createElement("div",{className:"wrapper"},g.a.createElement("div",{className:"sidebar"},g.a.createElement(E.a,{userInfo:this.state.userInfo})),g.a.createElement("div",{className:"content"},g.a.createElement(l.a,{title:"\u4e3b\u9875"},g.a.createElement("div",null,g.a.createElement("img",{src:this.state.userInfo?this.state.userInfo.avatar_url:"",alt:"",style:{width:40,display:"inline-block"}}),g.a.createElement("span",null,this.state.userInfo?this.state.userInfo.loginname:""),g.a.createElement("div",null,this.state.userInfo?this.state.userInfo.score:"","\u79ef\u5206"),g.a.createElement(I.a,{to:"collections?loginname="+this.props.location.query.loginname},this.state.collections.length,"\u4e2a\u8bdd\u9898\u6536\u85cf"),g.a.createElement("div",null,"\u6ce8\u518c\u65f6\u95f4\u662f",Object(y.a)(this.state.userInfo?this.state.userInfo.create_at:"")))),g.a.createElement(l.a,{title:"\u6700\u8fd1\u521b\u5efa\u7684\u8bdd\u9898"},g.a.createElement(n.a,{itemLayout:"horizontal",dataSource:this.state.recent_topics,loading:this.state.loading,renderItem:function(e){return g.a.createElement(n.a.Item,{key:e.id},g.a.createElement(n.a.Item.Meta,{avatar:g.a.createElement(r.a,{src:e.author.avatar_url}),title:g.a.createElement(I.a,{to:"/detail/detail?id="+e.id,style:{color:"#08c"}},e.title,g.a.createElement("span",{style:{float:"right",fontSize:"12px"}},Object(y.a)(e.last_reply_at)))}))}})),g.a.createElement(l.a,{title:"\u6700\u8fd1\u53c2\u4e0e\u7684\u8bdd\u9898"},g.a.createElement(n.a,{itemLayout:"horizontal",dataSource:this.state.recent_replies,loading:this.state.loading,renderItem:function(e){return g.a.createElement(n.a.Item,{key:e.id},g.a.createElement(n.a.Item.Meta,{avatar:g.a.createElement(r.a,{src:e.author.avatar_url}),title:g.a.createElement(I.a,{to:"/detail/detail?id="+e.id,style:{color:"#08c"}},e.title,g.a.createElement("span",{style:{float:"right",fontSize:"12px"}},Object(y.a)(e.last_reply_at)))}))}}))))}}]),t}(_.Component)}});