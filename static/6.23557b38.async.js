webpackJsonp([6],{aGs3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"default",function(){return C});var n=(a("damS"),a("NiGX")),r=(a("ysaM"),a("kC+3")),s=(a("bY3+"),a("FB3z")),i=a("mM12"),o=a.n(i),l=a("f3nN"),c=a.n(l),d=a("pDJS"),u=a.n(d),h=a("DK4r"),g=a.n(h),p=a("El35"),m=a.n(p),f=(a("7911"),a("ctQc")),b=a("657S"),E=a.n(b),y=a("Lx8G"),k=(a.n(y),a("wEH1")),v=a.n(k),S=a("WZj2"),L=a("V9yD"),_="https://cnodejs.org/api/v1",w=f.a.TabPane,C=function(e){function t(){var e,a,n;c()(this,t);for(var i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return g()(n,(a=n=g()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),n.state={data:[],tab:"all",page:1,loading:!0},n.getTopics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.tab,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.page,a=_+"/topics?tab="+e+"&page="+t;n.setState({loading:!0}),fetch(a).then(function(e){200===e.status&&e.json().then(function(e){n.setState({data:e.data,loading:!1})})}).catch(function(e){console.warn(e)})},n.onTabClick=function(e){n.setState({tab:e,page:1},function(){n.getTopics(e,1)})},n.onChangePage=function(e){n.setState({page:e},function(){n.getTopics(n.state.tab,e)})},n.renderList=function(e,t){return y.createElement(r.a,{itemLayout:"horizontal",dataSource:e,loading:n.state.loading,renderItem:function(e){return y.createElement(r.a.Item,{key:e.id},y.createElement(r.a.Item.Meta,{avatar:y.createElement(s.a,{src:e.author.avatar_url}),title:y.createElement(E.a,{to:"/detail/detail?id="+e.id,className:v.a.link},n.showLabel(e.tab,e.top,e.good,t),y.createElement("span",{style:{color:"#9e78c0",fontSize:"12px"}},e.reply_count),y.createElement("span",{style:{fontSize:"12px"}},"/"),y.createElement("span",{style:{fontSize:"12px",color:"#b4b4b4",marginRight:"10px"}},e.visit_count),e.title,y.createElement("span",{style:{float:"right",fontSize:"12px"}},Object(S.a)(e.last_reply_at)))}))}})},n.showLabel=function(e,t,a,n){var r="",s="";if("all"===n||"good"===n)if(t||a)s="green",r=t?"\u7f6e\u9876":"\u7cbe\u534e";else switch(s="gray",e){case"good":s="green",r="\u7cbe\u534e";break;case"share":r="\u5206\u4eab";break;case"ask":r="\u95ee\u7b54";break;default:r=""}else(t||a)&&(s="green",r=t?"\u7f6e\u9876":"\u7cbe\u534e");return y.createElement("label",{className:s},r)},a))}return m()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getTopics()}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("userInfo"));return y.createElement("div",{className:"wrapper"},y.createElement("div",{className:"sidebar"},y.createElement(L.a,{userInfo:e})),y.createElement("div",{className:"content"},y.createElement(f.a,{tabBarGutter:0,defaultActiveKey:"all",type:"card",onTabClick:this.onTabClick},y.createElement(w,{tab:"\u5168\u90e8",key:"all"},this.renderList(this.state.data,"all")),y.createElement(w,{tab:"\u7cbe\u534e",key:"good"},this.renderList(this.state.data,"good")),y.createElement(w,{tab:"\u5206\u4eab",key:"share"},this.renderList(this.state.data,"share")),y.createElement(w,{tab:"\u95ee\u7b54",key:"ask"},this.renderList(this.state.data,"ask")),y.createElement(w,{tab:"\u62db\u8058",key:"job"},this.renderList(this.state.data,"job")),y.createElement(w,{tab:"\u5ba2\u6237\u7aef\u6d4b\u8bd5",key:"dev"},this.renderList(this.state.data,"dev"))),y.createElement(n.a,{defaultCurrent:1,current:this.state.page,total:200,onChange:this.onChangePage})))}}]),t}(y.Component)},wEH1:function(e,t){}});